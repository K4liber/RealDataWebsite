<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <title>Real Data</title>
        <link rel="stylesheet" href="static/leaflet.css"/>
        <link rel="stylesheet" href="leaflet.css"/> <! –– For the local testing ––>
        <script src="static/leaflet.js"></script>
        <script src="leaflet.js"></script> <! –– For the local testing ––>
        <link rel="stylesheet" href="static/style.css">
        <link rel="stylesheet" href="style.css"> <! –– For the local testing ––>
    </head>
    <body>
        <div id="menu_holder">
            <div id="menu">
                DEVICE ID:
                <input list="device_ids" name="device_id" id="device_id">
                <datalist id="device_ids"></datalist>
                <input type="button" onclick="onSearchClick()" value="Search" id="search">
            </div>
        </div>
        <div id="map">
        </div>
        <script src="static/load_map.js"></script>
        <script src="load_map.js"></script>  <! –– For the local testing ––>
        <script>
            var data = null

            try {
                data = JSON.parse('{{data | tojson}}');
            }
            catch (exception_var) {
                console.log("data parse exception: " + exception_var)
            }

            if (data !== null && data.errors != null) {
                console.log(data.errors)
            }

            console.log(data)

            if (data !== null && data.hasOwnProperty('device_ids')) {
                loadDeviceIds(data['device_ids'])
            }

            load_map(data);
        </script>
    </body>
</html>